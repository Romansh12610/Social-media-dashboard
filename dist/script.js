"use strict";var btnBg=document.querySelector(".toggle__background"),btn=document.querySelector(".toggle__button"),shiftX=btn.getBoundingClientRect().left-btnBg.getBoundingClientRect().left,userTheme=window.matchMedia("(prefers-color-scheme: dark)"),initTheme=localStorage.getItem("theme");function showInitTheme(e,t){return null!==e?e:t.matches?"dark":"light"}var currentThemeSetting=showInitTheme(initTheme,userTheme);document.documentElement.setAttribute("data-theme",currentThemeSetting);var checkedInput=document.querySelector("input[checked]");if(checkedInput.id!==currentThemeSetting){var unCheckedInput=document.querySelector("input:not([checked])");checkedInput.removeAttribute("checked"),unCheckedInput.setAttribute("checked",""),moveButton(unCheckedInput),checkedInput=unCheckedInput}function moveButton(e){if("dark"===e)btn.style.transform="translate(".concat(0,"px)");else{var t=btnBg.offsetWidth-btn.offsetWidth-2*shiftX;btn.style.transform="translate(".concat(t,"px)")}}function moveToRight(e,t,n){var c=e.offsetWidth-t.offsetWidth-2*n;t.style.transform="translate(".concat(c,"px)")}function moveToLeft(e){e.style.transform="translate(".concat(0,"px)")}function toggleTheme(){var e,t=document.querySelector("input[checked]");switch(btn.focus(),t.id){case"dark":t.removeAttribute("checked"),(e=document.getElementById("light")).setAttribute("checked",""),moveToRight(btnBg,btn,shiftX),document.documentElement.setAttribute("data-theme",e.id);break;case"light":t.removeAttribute("checked"),(e=document.getElementById("dark")).setAttribute("checked",""),moveToLeft(btn),document.documentElement.setAttribute("data-theme",e.id)}}btnBg.addEventListener("click",toggleTheme);var fieldset=document.querySelector(".toggle");function onLabelClick(e){var t=e.target.closest("label");if(t&&fieldset.contains(t)){var n=t.getAttribute("for"),c=document.getElementById(n);c.checked||c.setAttribute("checked",""),document.documentElement.setAttribute("data-theme",c.id),"dark"==n?moveToLeft(btn):moveToRight(btnBg,btn,shiftX)}}function onButtonFocus(){function e(e){var t=document.querySelector("input[checked]");if("dark"===t.id&&"ArrowRight"==e.key){t.removeAttribute("checked");var n=document.getElementById("light");n.setAttribute("checked",""),document.documentElement.setAttribute("data-theme",n.id),moveToRight(btnBg,btn,shiftX)}else{if("light"!==t.id||"ArrowLeft"!=e.key)return;t.removeAttribute("checked");var c=document.getElementById("dark");c.setAttribute("checked",""),document.documentElement.setAttribute("data-theme",c.id),moveToLeft(btn)}}document.addEventListener("keydown",e),btn.addEventListener("blur",(function(){document.removeEventListener("keydown",e)}))}fieldset.addEventListener("click",onLabelClick),btn.addEventListener("focus",onButtonFocus);
//# sourceMappingURL=script.js.map